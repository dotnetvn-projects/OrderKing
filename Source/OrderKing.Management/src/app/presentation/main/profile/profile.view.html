<section class="content-header">
  <app-bread-crumb [Title]="'Thông tin cá nhân'" [Active]="'Thông tin cá nhân'"></app-bread-crumb>
</section>
<section class="content container-fluid">
    <div class="nav-tabs-custom">
        <ul class="nav nav-tabs">
            <li class="active"><a href="#settings" data-toggle="tab">Thông tin cá nhân</a></li>
            <li><a href="#changepass" data-toggle="tab">Đổi mật khẩu</a></li>
        </ul>
        <div class="tab-content">
            <div class="active tab-pane" id="settings">
                <form (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" class="form-horizontal" novalidate>
                    <div class="form-group">
                        <label for="inputAccount" class="col-sm-2 control-label">Tài khoản đăng nhập</label>

                        <div class="col-sm-5">
                            <input [attr.disabled]="''" type="text" [(ngModel)]="UserInfo.AccountName" name="accountName" #accountName="ngModel"
                                    [ngClass]="{ 'is-invalid': f.submitted && accountName.invalid }" required minlength="6" class="form-control" id="inputAccount" placeholder="Tài khoản đăng nhập hệ thống">
                            <div *ngIf="f.submitted && accountName.invalid" class="invalid-feedback">
                              <div *ngIf="accountName?.errors.required"><i class="fa fa-warning text-red"></i> Tài khoản đăng nhập không được rỗng !</div>
                              <div *ngIf="accountName?.errors.minlength">Tài khoản phải ít nhất 6 ký tự</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputPass" class="col-sm-2 control-label">Mật khẩu</label>

                        <div class="col-sm-5">
                            <input [attr.disabled]="''" type="password" [(ngModel)]="UserInfo.Password" name="password" #password ="ngModel"
                                  [ngClass]="{ 'is-invalid': f.submitted && password.invalid }" required minlength="6" class="form-control" id="inputPass" placeholder="Mật khẩu">
                            <div *ngIf="f.submitted && password.invalid" class="invalid-feedback">
                              <div *ngIf="password?.errors.required"><i class="fa fa-warning text-red"></i> Mật khẩu không được rỗng !</div>
                              <div *ngIf="password?.errors.minlength">Mật khẩu phải ít nhất 6 ký tự</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputName" class="col-sm-2 control-label">Họ và tên</label>

                        <div class="col-sm-5">
                            <input type="text" [(ngModel)]="UserInfo.FullName" name="fullName" #fullName ="ngModel"
                                  [ngClass]="{ 'is-invalid': f.submitted && fullName.invalid }" required class="form-control" id="inputName" placeholder="Họ và tên nhân viên">
                            <div *ngIf="f.submitted && fullName.invalid" class="invalid-feedback">
                              <div *ngIf="fullName?.errors.required"><i class="fa fa-warning text-red"></i> Họ và tên không được rỗng !</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputEmail" class="col-sm-2 control-label">Email</label>

                        <div class="col-sm-5">
                            <input type="email" class="form-control" [(ngModel)]="UserInfo.Email" name="email" #email ="ngModel"
                                  [ngClass]="{ 'is-invalid': f.submitted && email.invalid }" required email id="inputEmail" placeholder="Email">
                            <div *ngIf="f.submitted && email.invalid" class="invalid-feedback">
                              <div *ngIf="email?.errors.required"><i class="fa fa-warning text-red"></i> Email không được rỗng !</div>
                              <div *ngIf="email?.errors.email">Email không đúng định dạng</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputPhone" class="col-sm-2 control-label">Điện thoại</label>

                        <div class="col-sm-5">
                            <input type="text" [(ngModel)]="UserInfo.PhoneNumber" name="phoneNumber" #phoneNumber ="ngModel"
                                  [ngClass]="{ 'is-invalid': f.submitted && phoneNumber.invalid }" required  class="form-control" id="inputPhone"
                                  placeholder="Số điện thoại liên lạc">
                            <div *ngIf="f.submitted && phoneNumber.invalid" class="invalid-feedback">
                              <div *ngIf="phoneNumber?.errors.required"><i class="fa fa-warning text-red"></i> Số điện thoại không được rỗng !</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                      <label for="inputAddress1" class="col-sm-2 control-label">Địa chỉ thường trú</label>

                      <div class="col-sm-5">
                          <input type="text" [(ngModel)]="UserInfo.Address" [ngModelOptions]="{standalone: true}" class="form-control" id="inputAddress1" placeholder="Địa chỉ thường trú">
                      </div>
                  </div>
                  <div class="form-group">
                    <label for="inputAddress2" class="col-sm-2 control-label">Địa chỉ tạm trú</label>

                    <div class="col-sm-5">
                        <input type="text" [(ngModel)]="UserInfo.Address2" [ngModelOptions]="{standalone: true}" class="form-control" id="inputAddress2" placeholder="Địa chỉ tạm trú">
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="inputIdNum" class="col-sm-2 control-label">Số CMND</label>

                    <div class="col-sm-5">
                        <input [(ngModel)]="UserInfo.IdentityCard" [ngModelOptions]="{standalone: true}" class="form-control" id="inputIdNum" placeholder="Số chứng minh nhân dân">
                    </div>
                  </div>
                  <div class="form-group">
                      <label for="inputIdNum" class="col-sm-2 control-label">Trạng thái</label>

                      <div class="col-sm-5 staff-status">
                        <span *ngIf="UserInfo.IsActived"> Kích hoạt </span>
                        <span *ngIf="UserInfo.IsActived === false"> Khóa </span>
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="inputPass" class="col-sm-2 control-label">Ảnh đại diện</label>
                      <div class="col-sm-5">
                          <div class="box box-primary">
                              <div class="box-body box-profile">
                                <img class="profile-user-img img-responsive img-avatar" [src]="AvatarUrl">
                                <div class="upload-avatar-button">

                                    <label for="image-upload" class="custom-file-upload">
                                        <i class="fa fa-cloud-upload"></i> Upload avatar
                                    </label>
                                    <input #imageInput (change)="onAvatarChanged(imageInput)" accept="image/x-png,image/gif,image/jpeg"
                                           id="image-upload" type="file" />
                                </div>
                              </div>
                              <!-- /.box-body -->
                            </div>
                      </div>
                  </div>
                  <div class="form-group">
                    <label for="inputIdNum" class="col-sm-2 control-label">Ngày tạo</label>

                    <div class="col-sm-5 created-date">
                        <span class="text-muted">Được tạo vào ngày {{UserInfo.JoinDate}}</span>
                    </div>
                  </div>
                  <div class="form-group">
                      <div class="col-sm-offset-4 col-sm-10">
                          <button class="btn btn-danger">Cập nhật</button>
                      </div>
                  </div>
                </form>
            </div>
            <div class="active tab-pane" id="changepass">
              <form (ngSubmit)="frmchangepass.form.valid && onSubmitChangePass()" #frmchangepass="ngForm" class="form-horizontal" novalidate>
                <div class="form-group">
                    <label for="inputPass" class="col-sm-2 control-label">Mật khẩu hiện tại</label>
                    <div class="col-sm-5">
                        <input [attr.disabled]="''" type="password" [(ngModel)]="PasswordInfo.Password" name="password" #password ="ngModel"
                              [ngClass]="{ 'is-invalid': frmchangepass.submitted && password.invalid }" required minlength="6" class="form-control" id="inputPass" placeholder="Mật khẩu">
                        <div *ngIf="frmchangepass.submitted && password.invalid" class="invalid-feedback">
                          <div *ngIf="password?.errors.required"><i class="fa fa-warning text-red"></i> Mật khẩu không được rỗng !</div>
                          <div *ngIf="password?.errors.minlength">Mật khẩu phải ít nhất 6 ký tự</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                  <label for="inputPass" class="col-sm-2 control-label">Mật khẩu mới</label>
                  <div class="col-sm-5">
                      <input [attr.disabled]="''" type="password" [(ngModel)]="PasswordInfo.NewPassword" name="newpassword" #newpassword ="ngModel"
                            [ngClass]="{ 'is-invalid': frmchangepass.submitted && newpassword.invalid }" required minlength="6" class="form-control" id="inputPass" placeholder="Mật khẩu">
                      <div *ngIf="frmchangepass.submitted && newpassword.invalid" class="invalid-feedback">
                        <div *ngIf="newpassword?.errors.required"><i class="fa fa-warning text-red"></i> Mật khẩu không được rỗng !</div>
                        <div *ngIf="newpassword?.errors.minlength">Mật khẩu phải ít nhất 6 ký tự</div>
                      </div>
                  </div>
              </div>
              <div class="form-group">
                <label for="inputPass" class="col-sm-2 control-label">Xác nhận mật khẩu mới</label>
                <div class="col-sm-5">
                    <input [attr.disabled]="''" type="password" [(ngModel)]="PasswordInfo.TemPassword" name="temppassword" #temppassword ="ngModel"
                          [ngClass]="{ 'is-invalid': frmchangepass.submitted && temppassword.invalid }" required minlength="6" class="form-control" id="inputPass" placeholder="Mật khẩu">
                    <div *ngIf="frmchangepass.submitted && temppassword.invalid" class="invalid-feedback">
                      <div *ngIf="temppassword?.errors.required"><i class="fa fa-warning text-red"></i> Mật khẩu không được rỗng !</div>
                      <div *ngIf="temppassword?.errors.minlength">Mật khẩu phải ít nhất 6 ký tự</div>
                    </div>
                </div>
            </div>
              <div class="form-group">
                  <div class="col-sm-offset-4 col-sm-10">
                      <button class="btn btn-danger">Cập nhật</button>
                  </div>
              </div>
            </form>
            </div>
        </div>
    </div>

</section>
